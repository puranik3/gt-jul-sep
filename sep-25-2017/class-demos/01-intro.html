<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Introduction to Knockout</title>
    </head>
    <body>
        First name: <input type="text" name="firstname" data-bind="value: firstname, valueUpdate: 'afterkeydown'" />
        Last name: <input type="text" name="lastname" data-bind="value: lastname, valueUpdate: 'afterkeydown'" />

        <input type="checkbox" name="isNameVisibleCheckbox" data-bind="checked: isNameVisible" />

        <span data-bind="text: fullname, visible: isNameVisible"></span>

        <script src="../external/jquery-3.2.1.min.js"></script>
        <script src="../external/knockout-3.4.2.js"></script>
        <!-- <script src="view-models/01-intro.js"></script> --> <!-- inclide after Knockout include -->

        <script>
            $(document).ready(function() {
                // like Angular's component.ts file (ViewModel/Controller)
                function IntroViewModel() {
                    //var that = this;
                    this.firstname = ko.observable('John');
                    this.lastname = ko.observable('Doe');
                    this.isNameVisible = ko.observable( true );
                    this.fullname = ko.computed(function() {
                        // console.log( this ); // will be the viewModel since we have passed 'this' as second argument to ko.computed()
                        return this.firstname() + ' ' + this.lastname();
                    }, this);
                }

                var viewModel = new IntroViewModel();

                // bind the viewModel to this view
                ko.applyBindings( viewModel );
            });
        </script>
    </body>
</html>